<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>RIKET</title>
    <link rel="stylesheet" href="./style.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  </head>
  <body>
    <div class="container">
      <h1 class="title">RIKET</h1>
      <span class="version">v0.3.1</span>

      <!-- INIT -->
      <div id="view-init" class="view">
        <h2>Network</h2>
        <p>Waiting for network connection...</p>
      </div>

      <!-- CONNECTION -->
      <div id="view-connection" class="view" style="display: none;">
        <h2>Your ID</h2>
        <div id="qrcode"></div>
        <p><span id="local-id">...</span></p>
        <button
          type="button"
          onclick="clickConnect()">
          Connect to:
        </button>
        <input
          id="remote-id"
          placeholder="target ID"
          type="text"
          value="">
        <button onclick="clickScan()">scan QR code</button>
      </div>

      <!-- QR SCANNER -->
      <div id="view-scanner" class="view" style="display: none;">
        <h2>Scan QR code</h2>
        <div class="video-container">
          <video id="preview"></video>
        </div>
        <div class="video-actions">
          <button
            type="button"
            onclick="clickSwitchCamera()">
            switch camera
          </button>
          <button
            type="button"
            onclick="clickCancelScan()">
            cancel
          </button>
        </div>
      </div>

      <!-- MESSENGER -->
      <div id="view-messenger" class="view" style="display: none;">
        <!-- RECEIVE -->
        <div class="inbox card">
          <h2>Inbox</h2>
          <div id="inbox">
            (nothing yet)
          </div>
        </div>

        <!-- SEND -->
        <div class="outbox card">
          <h2>Outbox</h2>
          <span class="upload-button">
            <input
              id="upload"
              type="file"
              name="file"
              class="unseen"
              onchange="changeUpload(this.files)"
            />
            <label for="upload" class="button">
              &#8682;
            </label>
          </span>
          <input
            id="payload"
            size="40"
            value=""/>
          <button
            type="button"
            onclick="clickSend()">
            Send
          </button>
        </div>

      </div>
    </div>

    <script src="./vendor/peer.min.js" type="text/javascript"></script>
    <script src="./vendor/qrcode.min.js" type="text/javascript"></script>
    <script src="./vendor/instascan.min.js" type="text/javascript"></script>
    <script src="./script.js" type="text/javascript"></script>
  </body>
</html>
